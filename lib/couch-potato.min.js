(function(global){"use strict";function CouchPotato(context,options){this._log("[CouchPotato] constructor",options);this.options=this._defaults(options,{attribute:"data-couch-potato",shouldRemoveDataAttribute:true,trigger:function(){}});this.context=context;this.context.setAttribute("src","//:0");this.source=this.context.getAttribute(this.options.attribute);this.options.trigger.call(this,this.context,this.source)}CouchPotato.prototype._defaults=function(object,properties){var keys=Object.keys(properties),newObject=Object.create(object);keys.forEach(function(key){if(!object.hasOwnProperty(key)){newObject[key]=properties[key]}});return newObject};CouchPotato.prototype._log=function(){var message=Array.prototype.slice.call(arguments);if(CouchPotato.DEBUG){console.log.apply(console,message)}};CouchPotato.prototype.load=function(){this._log("[CouchPotato] :: load() :: Lazy load image",this.source);this.context.setAttribute("src",this.source);if(this.options.shouldRemoveDataAttribute){this.context.removeAttribute(this.options.attribute)}return this};CouchPotato.DEBUG=false;if(typeof define==="function"&&define.amd){define(function(){return CouchPotato})}else{global.CouchPotato=CouchPotato}})(this);